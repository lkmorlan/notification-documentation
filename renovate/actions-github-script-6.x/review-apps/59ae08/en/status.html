<!DOCTYPE html>
<html lang="en-CA">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Get message status | GC Notify</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="https://notification.canada.ca/static/images/favicon.ico">
    <meta name="description" content="Integrate directly with the GC Notify API">
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/css/0.styles.8efa4739.css" as="style"><link rel="preload" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/app.d50cbf78.js" as="script"><link rel="preload" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/3.1b1897ca.js" as="script"><link rel="preload" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/2.d0b1196e.js" as="script"><link rel="preload" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/17.74bd9318.js" as="script"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/10.18c618c4.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/11.23c96123.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/12.7519e4d4.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/13.090f3a0b.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/14.c9ccbc84.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/15.4f75b3f5.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/16.e49a106e.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/18.8e8196da.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/19.a5ad136c.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/20.103ae8cf.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/21.8edecf72.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/22.47e39bb4.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/23.bd2e88c5.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/24.b9a62022.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/25.acc12fb4.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/26.9bf85283.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/27.aa8eee99.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/28.ef92634a.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/29.65cd3090.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/4.4f1111b5.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/5.d4600513.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/6.32886ebf.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/7.85b49c97.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/8.e3ca1ce3.js"><link rel="prefetch" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/9.0105dbd6.js">
    <link rel="stylesheet" href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/css/0.styles.8efa4739.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/" class="home-link router-link-active"><img src="https://assets.notification.canada.ca/static/gov-canada-en.svg" alt="GC Notify" class="logo"> <div class="site-name can-hide">GC Notify</div> <div class="site-subtitle">API documentation</div></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide nav-links"><div class="nav-item"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/fr/" class="nav-link">
  Français
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/fr/" class="nav-link">
  Français
</a></div> <!----></nav> <div class="back-to-notify"><a href="https://notification.canada.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to GC Notify
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <ul class="sidebar-links"><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/" aria-current="page" class="sidebar-link">Integrate the API</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/start.html" class="sidebar-link">Get started</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/send.html" class="sidebar-link">Send a message</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/status.html" aria-current="page" class="active sidebar-link">Get message status</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/status.html#email-status" class="sidebar-link">Email status</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/status.html#text-message-status" class="sidebar-link">Text message status</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/status.html#get-the-status-of-one-message" class="sidebar-link">Get the status of one message</a></li><li class="sidebar-sub-header"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/status.html#get-the-status-of-multiple-messages" class="sidebar-link">Get the status of multiple messages</a></li></ul></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/testing.html" class="sidebar-link">Testing</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/keys.html" class="sidebar-link">API keys</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/limits.html" class="sidebar-link">Limits</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/callbacks.html" class="sidebar-link">Callbacks</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/architecture.html" class="sidebar-link">API architecture</a></li><li><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/clients.html" class="sidebar-link">Client libraries</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="get-message-status"><a href="#get-message-status" class="header-anchor">#</a> Get message status</h1> <p>You can use the GC Notify API to retrieve the status of one or more messages.</p> <p>Message status depends on the type of message you have sent.</p> <p>You can only get the status of messages that are 7 days old or newer (by default). Data retention can be configured to be anywhere between 3 and 90 days at either the service or notification level.</p> <h2 id="email-status"><a href="#email-status" class="header-anchor">#</a> Email status</h2> <table><thead><tr><th style="text-align:left;">Status</th> <th style="text-align:left;">Information</th></tr></thead> <tbody><tr><td style="text-align:left;">Created</td> <td style="text-align:left;">GC Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td></tr> <tr><td style="text-align:left;">Sending</td> <td style="text-align:left;">GC Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GC Notify is waiting for delivery information.</td></tr> <tr><td style="text-align:left;">Delivered</td> <td style="text-align:left;">The message was successfully delivered.</td></tr> <tr><td style="text-align:left;">Failed</td> <td style="text-align:left;">This covers all failure statuses:<br>- <code>permanent-failure</code> - &quot;The provider could not deliver the message because the email address was wrong. You should remove these email addresses from your database.&quot;<br>- <code>temporary-failure</code> - &quot;The provider could not deliver the message. This can happen when the recipient’s inbox is full. You can try to send the message again.&quot;<br>- <code>technical-failure</code> - &quot;Your message was not sent because there was a problem between GC Notify and the provider.<br>You’ll have to try sending your messages again.&quot;</td></tr></tbody></table> <h2 id="text-message-status"><a href="#text-message-status" class="header-anchor">#</a> Text message status</h2> <table><thead><tr><th style="text-align:left;">Status</th> <th style="text-align:left;">Information</th></tr></thead> <tbody><tr><td style="text-align:left;">Created</td> <td style="text-align:left;">GC Notify has placed the message in a queue, ready to be sent to the provider. It should only remain in this state for a few seconds.</td></tr> <tr><td style="text-align:left;">Sending</td> <td style="text-align:left;">GC Notify has sent the message to the provider. The provider will try to deliver the message to the recipient for up to 72 hours. GC Notify is waiting for delivery information.</td></tr> <tr><td style="text-align:left;">Pending</td> <td style="text-align:left;">GC Notify is waiting for more delivery information.<br>GC Notify received a callback from the provider but the recipient’s device has not yet responded. Another callback from the provider determines the final status of the notification.</td></tr> <tr><td style="text-align:left;">Sent / Sent internationally</td> <td style="text-align:left;">The message was sent to an international number. The mobile networks in some countries do not provide any more delivery information. The GC Notify client API returns this status as <code>sent</code>. The GC Notify client app returns this status as <code>Sent to an international number</code>.</td></tr> <tr><td style="text-align:left;">Delivered</td> <td style="text-align:left;">The message was successfully delivered.</td></tr> <tr><td style="text-align:left;">Failed</td> <td style="text-align:left;">This covers all failure statuses:<br>- <code>permanent-failure</code> - &quot;The provider could not deliver the message. This can happen if the phone number was wrong or if the network operator rejects the message. If you’re sure that these phone numbers are correct, you should <a href="https://notification.canada.ca/contact" target="_blank" rel="noopener noreferrer">contact us<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If not, you should remove them from your database. You’ll still be charged for text messages that cannot be delivered.&quot;<br>- <code>temporary-failure</code> - &quot;The provider could not deliver the message. This can happen when the recipient’s phone is off, has no signal, or their text message inbox is full. You can try to send the message again. You’ll still be charged for text messages to phones that are not accepting messages.&quot;<br>- <code>technical-failure</code> - &quot;Your message was not sent because there was a problem between GC Notify and the provider.<br>You’ll have to try sending your messages again. You will not be charged for text messages that are affected by a technical failure.&quot;</td></tr></tbody></table> <h2 id="get-the-status-of-one-message"><a href="#get-the-status-of-one-message" class="header-anchor">#</a> Get the status of one message</h2> <p>You can use the GC Notify API to get a single message status.</p> <div class="language- extra-class"><pre class="language-text"><code>GET /v2/notifications/{notification_id}
</code></pre></div><h3 id="query-parameters"><a href="#query-parameters" class="header-anchor">#</a> Query parameters</h3> <h4 id="notification-id-required"><a href="#notification-id-required" class="header-anchor">#</a> notification_id (required)</h4> <p>The ID of the notification. You can find the notification ID in the response to the original notification method call.</p> <p>You can also find it by <a href="https://notification.canada.ca/sign-in" target="_blank" rel="noopener noreferrer">signing in to GC Notify<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and going to the <strong>API integration</strong> page.</p> <p>You can filter the returned messages by including the following optional parameters in the URL:</p> <ul><li><code>template_type</code></li> <li><code>status</code></li> <li><code>reference</code></li> <li><code>older_than</code></li></ul> <h3 id="response"><a href="#response" class="header-anchor">#</a> Response</h3> <p>If the request is successful, the response body is <code>json</code> and the status code is <code>200</code>:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span> # required string - notification ID
  <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string
  <span class="token property">&quot;email_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sender@something.com&quot;</span><span class="token punctuation">,</span>  # required string for emails
  <span class="token property">&quot;phone_number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+447900900123&quot;</span><span class="token punctuation">,</span>  # required string for text messages
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email / sms&quot;</span><span class="token punctuation">,</span> # required string
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sending / delivered / permanent-failure / temporary-failure / technical-failure&quot;</span><span class="token punctuation">,</span> # required string
  <span class="token property">&quot;provider_response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - will not be <span class="token null keyword">null</span> only when the status is a technical failure
  <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f33517ff-2a88-4f6e-b855-c550268ce08a&quot;</span> # required string - template ID
    <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/v2/template/{id}/{version}&quot;</span><span class="token punctuation">,</span> # required
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # required string - body of notification
  <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span> # required string for email - subject of email
  <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # required string - date and time notification created
  <span class="token property">&quot;created_by_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - name of the person who sent the notification if sent manually
  <span class="token property">&quot;sent_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - date and time notification sent to provider
  <span class="token string">&quot;completed_at:&quot;</span> <span class="token string">&quot;STRING&quot;</span> # optional string - date and time notification delivered or failed
<span class="token punctuation">}</span>
</code></pre></div><h3 id="error-codes"><a href="#error-codes" class="header-anchor">#</a> Error codes</h3> <p>If the request is not successful, the response body is <code>json</code>, refer to the table below for details.</p> <table><thead><tr><th style="text-align:left;">status_code</th> <th style="text-align:left;">message</th> <th style="text-align:left;">How to fix</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;id is not a valid UUID&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check the notification ID</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Error: Your system clock must be accurate to within 30 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check your system clock</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Invalid token: API key not found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct <a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/keys.html">API key</a></td></tr> <tr><td style="text-align:left;"><code>404</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;NoResultFound&quot;,</code><br><code>&quot;message&quot;: &quot;No result found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check the notification ID</td></tr></tbody></table> <h2 id="get-the-status-of-multiple-messages"><a href="#get-the-status-of-multiple-messages" class="header-anchor">#</a> Get the status of multiple messages</h2> <p>You can use the GC Notify API to find the status of multiple messages at the same time.</p> <p>This API call returns one page of up to 250 messages and statuses. You can get either the most recent messages, or get older messages by specifying a particular notification ID in the <code>older_than</code> argument.</p> <p>You can only get the status of messages that are 7 days old or newer (by default). Data retention can be configured to be anywhere between 3 and 90 days at either the service or notification level.</p> <div class="language- extra-class"><pre class="language-text"><code>GET /v2/notifications
</code></pre></div><h4 id="all-messages"><a href="#all-messages" class="header-anchor">#</a> All messages</h4> <p>This will return all your messages with statuses. They will display in pages of up to 250 messages each.</p> <p>You can filter the returned messages by including the following optional arguments in the URL:</p> <ul><li><code>template_type</code></li> <li><code>status</code></li> <li><code>reference</code></li> <li><code>older_than</code></li></ul> <h3 id="arguments"><a href="#arguments" class="header-anchor">#</a> Arguments</h3> <p>You can omit any of these arguments to ignore these filters.</p> <h4 id="template-type-optional"><a href="#template-type-optional" class="header-anchor">#</a> template_type (optional)</h4> <p>If you specify <code>template_type</code>, you can filter by:</p> <ul><li><code>email</code></li> <li><code>sms</code></li></ul> <h4 id="status-optional"><a href="#status-optional" class="header-anchor">#</a> status (optional)</h4> <p>If you specify <code>status</code>, you can filter by each:</p> <ul><li>email status</li> <li>text message status</li></ul> <p>You can leave out this argument to ignore this filter.</p> <h4 id="reference-optional"><a href="#reference-optional" class="header-anchor">#</a> reference (optional)</h4> <p>If you specify a <code>reference</code>, you can filter results by that value, an identifier that you can create if necessary. This reference identifies a single notification or a batch of notifications. It must not contain any personal information such as name or postal address. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span>
</code></pre></div><h4 id="older-than-optional"><a href="#older-than-optional" class="header-anchor">#</a> older_than (optional)</h4> <p>Input the ID of a notification into this argument. If you use this <code>older_than</code> argument, the method returns the next 250 received notifications older than the given ID.</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;older_than&quot;:&quot;740e5834-3a29-46b4-9a6f-16142fde533a&quot;
</code></pre></div><p>If you leave out this argument, the method returns the most recent 250 notifications.</p> <p>The client only returns notifications that are 7 days old or newer. If the notification specified in this argument is older than 7 days, the client returns an empty response.</p> <h3 id="response-2"><a href="#response-2" class="header-anchor">#</a> Response</h3> <p>If the request is successful, the response body is <code>json</code> and the status code is <code>200</code>.</p> <h4 id="all-messages-2"><a href="#all-messages-2" class="header-anchor">#</a> All messages</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;notifications&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;740e5834-3a29-46b4-9a6f-16142fde533a&quot;</span><span class="token punctuation">,</span> # required string - notification ID
      <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - client reference
      <span class="token property">&quot;email_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sender@something.com&quot;</span><span class="token punctuation">,</span>  # required string for emails
      <span class="token property">&quot;phone_number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+447900900123&quot;</span><span class="token punctuation">,</span>  # required string for text messages
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;email / sms&quot;</span><span class="token punctuation">,</span> # required string
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sending / delivered / permanent-failure / temporary-failure / technical-failure&quot;</span><span class="token punctuation">,</span> # required string
      <span class="token property">&quot;provider_response&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - will not be <span class="token null keyword">null</span> only when the status is a technical failure
      <span class="token property">&quot;template&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> 'f33517ff-2a88-4f6e-b855-c550268ce08a' # required string - template ID
        <span class="token property">&quot;uri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/v2/template/{id}/{version}&quot;</span><span class="token punctuation">,</span> # required
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # required string - body of notification
      <span class="token property">&quot;subject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span> # required string for email - subject of email
      <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # required string - date and time notification created
      <span class="token property">&quot;created_by_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span><span class="token punctuation">,</span> # optional string - name of the person who sent the notification if sent manually
      <span class="token property">&quot;sent_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot; STRING&quot;</span><span class="token punctuation">,</span> # optional string - date and time notification sent to provider
      <span class="token property">&quot;completed_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STRING&quot;</span> # optional string - date and time notification delivered or failed
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    …
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/notifications?template_type=sms&amp;status=delivered&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/notifications?other_than=last_id_in_list&amp;template_type=sms&amp;status=delivered&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="error-codes-2"><a href="#error-codes-2" class="header-anchor">#</a> Error codes</h3> <p>If the request is not successful, the response body is <code>json</code>, refer to the table below for details.</p> <table><thead><tr><th style="text-align:left;">status_code</th> <th style="text-align:left;">message</th> <th style="text-align:left;">How to fix</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>400</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;ValidationError&quot;,</code><br><code>&quot;message&quot;: &quot;id is not a valid UUID&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check the notification ID</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Error: Your system clock must be accurate to within 30 seconds&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check your system clock</td></tr> <tr><td style="text-align:left;"><code>403</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;AuthError&quot;,</code><br><code>&quot;message&quot;: &quot;Invalid token: API key not found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Use the correct <a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/keys.html">API key</a></td></tr> <tr><td style="text-align:left;"><code>404</code></td> <td style="text-align:left;"><code>[{</code><br><code>&quot;error&quot;: &quot;NoResultFound&quot;,</code><br><code>&quot;message&quot;: &quot;No result found&quot;</code><br><code>}]</code></td> <td style="text-align:left;">Check the notification ID</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/cds-snc/notification-documentation/edit/main/src/en/status.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last updated:</span> <span class="time">2021-04-16</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/send.html" class="prev">
        Send a message
      </a></span> <span class="next"><a href="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/en/testing.html">
        Testing
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/app.d50cbf78.js" defer></script><script src="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/3.1b1897ca.js" defer></script><script src="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/2.d0b1196e.js" defer></script><script src="/notification-documentation/renovate/actions-github-script-6.x/review-apps/59ae08/assets/js/17.74bd9318.js" defer></script>
  </body>
</html>
