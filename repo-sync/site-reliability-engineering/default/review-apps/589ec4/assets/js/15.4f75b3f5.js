(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{388:function(t,e,a){"use strict";a.r(e);var s=a(11),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"send-a-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-a-message"}},[t._v("#")]),t._v(" Send a message")]),t._v(" "),a("p",[t._v("You can use GC Notify to send emails and text messages. These might be in response to a user-generated event, like a receipt after they apply to your service, or as a reminder when a payment is due.")]),t._v(" "),a("p",[a("strong",[t._v("What you'll need:")])]),t._v(" "),a("p",[t._v("To send a message with GC Notify, you'll need to set up a template in the user interface.")]),t._v(" "),a("p",[t._v("To create a template:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign in to GC Notify"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Go to the "),a("strong",[t._v("Templates")]),t._v(" page.")]),t._v(" "),a("li",[t._v("Select "),a("strong",[t._v("New template")]),t._v(".")])]),t._v(" "),a("p",[t._v("Once you've got a template ready, find the template ID associated with it. You'll need that ID to specify which template you want to use when you call the API.")]),t._v(" "),a("p",[t._v("Your API call must also include any fields that have been set up as personalisations. Personalisation allows you to change what shows up in a specific message as it gets sent out. You might use personalisation to:")]),t._v(" "),a("ul",[a("li",[t._v("Address a user by their name")]),t._v(" "),a("li",[t._v("Provide users with a specific link to click")]),t._v(" "),a("li",[t._v("Send a unique transaction number as a follow up")]),t._v(" "),a("li",[t._v("Give users a dynamically generated list of actions they need to take")])]),t._v(" "),a("h2",{attrs:{id:"sending-an-email"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-an-email"}},[t._v("#")]),t._v(" Sending an email")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /v2/notifications/email\n")])])]),a("h3",{attrs:{id:"request-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-body"}},[t._v("#")]),t._v(" Request body")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email_address"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sender@something.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"arguments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arguments"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),a("p",[a("strong",[t._v("email_address (required)")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("email_address")]),t._v(" of the recipient.")]),t._v(" "),a("Content",{attrs:{"page-key":t.$site.pages.find((function(t){return"en/_arg_template_id.md"===t.relativePath})).key}}),t._v(" "),a("p",[a("strong",[t._v("personalisation (optional)")])]),t._v(" "),a("p",[t._v("Use "),a("code",[t._v("personalisation")]),t._v(" if a template has placeholder fields for personalised information such as name or reference number, you need to provide their values in a dictionary with key value pairs. For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"personalisation"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amala"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"application_date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if a template does not have any placeholder fields for personalised information.")]),t._v(" "),a("p",[a("strong",[t._v("reference (optional)")])]),t._v(" "),a("p",[a("code",[t._v("reference")]),t._v(" is an identifier you can create if necessary. This reference identifies a single notification or a batch of notifications. It must not contain any personal information such as name or mailing address. For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reference"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STRING"')]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if you do not have a reference.")]),t._v(" "),a("p",[a("strong",[t._v("email_reply_to_id (optional)")])]),t._v(" "),a("p",[a("code",[t._v("email_reply_to_id")]),t._v(" is an email address specified by you to receive replies from your users.")]),t._v(" "),a("p",[t._v("To add a reply-to email address:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign in to GC Notify"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Go to the "),a("strong",[t._v("Settings")]),t._v(" page.")]),t._v(" "),a("li",[t._v("In the "),a("strong",[t._v("Email")]),t._v(" section, select "),a("strong",[t._v("Manage")]),t._v(" on the "),a("strong",[t._v("Reply-to email addresses")]),t._v(" row.")]),t._v(" "),a("li",[t._v("Select "),a("strong",[t._v("Add reply-to address")]),t._v(".")]),t._v(" "),a("li",[t._v("Enter the email address you want to use, and select "),a("strong",[t._v("Add")]),t._v(".")])]),t._v(" "),a("p",[t._v("For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email_reply_to_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8e222534-7f05-4972-86e3-17c5d9f894e2"')]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if your service only has one reply-to email address, or you want to use the default email address.")]),t._v(" "),a("h2",{attrs:{id:"sending-files-by-email-is-an-api-only-feature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-files-by-email-is-an-api-only-feature"}},[t._v("#")]),t._v(" Sending files by email is an API-only feature")]),t._v(" "),a("p",[t._v("To turn on this feature, "),a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("sign in to GC Notify"),a("OutboundLink")],1),t._v(" and go to the "),a("strong",[t._v("Settings")]),t._v(" page.")]),t._v(" "),a("h3",{attrs:{id:"file-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-types"}},[t._v("#")]),t._v(" File types")]),t._v(" "),a("p",[t._v("You can upload .pdf, .csv, .jpeg, .png, .odt, .txt, .rtf, as well as Microsoft Excel and Microsoft Word files. If you need to send other file types, "),a("a",{attrs:{href:"https://notification.canada.ca/contact",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact us"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"file-quantity-and-size"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file-quantity-and-size"}},[t._v("#")]),t._v(" File quantity and size")]),t._v(" "),a("p",[t._v("GC Notify allows a maximum of 10 file attachments per email notification.")]),t._v(" "),a("p",[t._v("The email’s size, including accompanying files, cannot exceed 6MB.")]),t._v(" "),a("h3",{attrs:{id:"you-can-send-files-in-2-ways"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#you-can-send-files-in-2-ways"}},[t._v("#")]),t._v(" You can send files in 2 ways")]),t._v(" "),a("ol",[a("li",[t._v("Directly attached to the email (attachment mode).")]),t._v(" "),a("li",[t._v("As a unique link, to download from the email (link mode).")])]),t._v(" "),a("p",[t._v("You control the sending method on every API call.")]),t._v(" "),a("h3",{attrs:{id:"attachments-are-generally-preferable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attachments-are-generally-preferable"}},[t._v("#")]),t._v(" Attachments are generally preferable")]),t._v(" "),a("p",[t._v("If you use link mode, GC Notify needs to encrypt and store the file. For privacy reasons, we delete the file after 7 days. After deletion, recipients get a 404 “File not found” error when they select the link.")]),t._v(" "),a("p",[t._v("In contrast, recipients can access attachments indefinitely, if permitted by their email provider. They may also be more familiar with receiving files as attachments.")]),t._v(" "),a("h3",{attrs:{id:"in-some-situations-there-may-be-advantages-to-link-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#in-some-situations-there-may-be-advantages-to-link-mode"}},[t._v("#")]),t._v(" In some situations, there may be advantages to link mode")]),t._v(" "),a("p",[t._v("Some email providers and security rules block attachments. For example, government departments may restrict attachments for internal communication.")]),t._v(" "),a("p",[t._v("Before choosing a sending method, perform tests to check what works best for your use case. You can also "),a("a",{attrs:{href:"https://notification.canada.ca/contact",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact us"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"upload-your-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upload-your-file"}},[t._v("#")]),t._v(" Upload your file")]),t._v(" "),a("p",[t._v("To send files, pass a dictionary in the "),a("code",[t._v("personalisation")]),t._v(" argument. Pass this dictionary to the placeholder key if it’s present in your template or use a name of your choice.")]),t._v(" "),a("p",[t._v("You’ll need to specify:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("file")]),t._v(": convert the file into a string that is base64 encoded. Example: "),a("code",[t._v("Q2FuYWRh")]),t._v(" ("),a("code",[t._v("Canada")]),t._v(" encoded in base64)")]),t._v(" "),a("li",[a("code",[t._v("filename")]),t._v(": the filename of the file you are sending. Example: "),a("code",[t._v("service_name_applicant_name.pdf")])]),t._v(" "),a("li",[a("code",[t._v("sending_method")]),t._v(": specify how you want to send this file. Either "),a("code",[t._v("attach")]),t._v(" for the direct attachment method or "),a("code",[t._v("link")]),t._v(" to generate a unique link")])]),t._v(" "),a("h4",{attrs:{id:"if-you-re-sending-files-as-direct-attachments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#if-you-re-sending-files-as-direct-attachments"}},[t._v("#")]),t._v(" If you’re sending files as direct attachments")]),t._v(" "),a("p",[t._v("Specify "),a("code",[t._v("attach")]),t._v(" as "),a("code",[t._v("sending_method")]),t._v(".")]),t._v(" "),a("p",[t._v("For example:")]),t._v(" "),a("p",[a("strong",[t._v("Template")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Hello ((first_name)),\n\nWe received your application on ((application_date)).\n\nYou will find your application attached.\n")])])]),a("p",[a("strong",[t._v("HTTP parameters")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"personalisation"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amala"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"application_date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"application_file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file as base64 encoded string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_custom_filename.pdf"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sending_method"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"attach"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"if-you-re-sending-files-as-unique-links"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#if-you-re-sending-files-as-unique-links"}},[t._v("#")]),t._v(" If you’re sending files as unique links")]),t._v(" "),a("ol",[a("li",[t._v("Add a placeholder to the email template")]),t._v(" "),a("li",[t._v("Send HTTP requests, specify "),a("code",[t._v("link")]),t._v(" as "),a("code",[t._v("sending_method")])])]),t._v(" "),a("p",[a("strong",[t._v("Add a placeholder to the template")])]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign in to GC Notify"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Go to the "),a("strong",[t._v("Templates")]),t._v(" page and select the relevant email template.")]),t._v(" "),a("li",[t._v("Select "),a("strong",[t._v("Edit")]),t._v(".")]),t._v(" "),a("li",[t._v("Add a placeholder to the email template using double brackets. For example: "),a("code",[t._v("((link_to_file))")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("You can [now download your application](((link_to_file))).\n")])])]),a("p",[t._v("For example:")]),t._v(" "),a("p",[a("strong",[t._v("Template")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Hello ((first_name)),\n\nWe received your application on ((application_date)).\n\nYou can [now download your application](((link_to_file))).\n")])])]),a("p",[a("strong",[t._v("HTTP parameters")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"personalisation"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amala"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"application_date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"link_to_file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file as base64 encoded string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"filename"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_custom_filename.pdf"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sending_method"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"link"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),a("p",[t._v("If the request to the client is successful, the client returns a "),a("code",[t._v("dict")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"740e5834-3a29-46b4-9a6f-16142fde533a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reference"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STRING"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subject"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SUBJECT TEXT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MESSAGE TEXT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SENDER EMAIL"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.notification.canada.ca/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.notification.canada.ca/v2/template/f33517ff-2a88-4f6e-b855-c550268ce08a"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"error-codes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-codes"}},[t._v("#")]),t._v(" Error codes")]),t._v(" "),a("p",[t._v("If the request is not successful, the response body is "),a("code",[t._v("json")]),t._v(". Refer to the table below for details.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("status_code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("message")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("How to fix")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Can\'t send to this recipient using a team-only API key"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Use the correct type of "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("API key")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Can\'t send to this recipient when service is in trial mode')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Your service cannot send this notification in trial mode. You can request to go live in settings.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Unsupported file type \'(FILE TYPE)\'. Supported types are: \'(ALLOWED TYPES)"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Wrong file type. You can only upload .pdf, .csv, .txt, .jpeg, .png, .doc, .docx, .xls, .xlsx, .rtf or .odt files")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "File did not pass the virus scan"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The file contains a virus")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "sending_method is a required property"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Specify either "),a("code",[t._v("attach")]),t._v(" or "),a("code",[t._v("link")]),t._v(" as a sending method")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "filename is a required property"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Specify a filename for the file you are sending")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "personalisation (key) is not one of [attach, link]"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The sending method specified must be either "),a("code",[t._v("attach")]),t._v(" or "),a("code",[t._v("link")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "(key) : Incorrect padding : Error decoding base64 field"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("The file must be converted to a string that is base64 encoded")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "filename is too short"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("File name must be at least 3 characters")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "filename is too long"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("File name must be less than 250 characters")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("403")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "AuthError",')]),a("br"),a("code",[t._v('"message": "Error: Your system clock must be accurate to within 30 seconds"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check your system clock")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("403")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "AuthError",')]),a("br"),a("code",[t._v('"message": "Invalid token: API key not found"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Use the correct "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("API keys")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("429")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "RateLimitError",')]),a("br"),a("code",[t._v('"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 1000 requests per 60 seconds"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Refer to "),a("RouterLink",{attrs:{to:"/en/limits.html#rate-limits"}},[t._v("API rate limits")]),t._v(" for more information")],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("429")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "TooManyRequestsError",')]),a("br"),a("code",[t._v('"message": "Exceeded send limits (LIMIT NUMBER) for today"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Refer to "),a("RouterLink",{attrs:{to:"/en/limits.html"}},[t._v("service limits")]),t._v(" for the limit number")],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("500")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "Exception",')]),a("br"),a("code",[t._v('"message": "Internal server error"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GC Notify was unable to process the request, resend your notification.")])])])]),t._v(" "),a("h2",{attrs:{id:"sending-a-text-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-a-text-message"}},[t._v("#")]),t._v(" Sending a text message")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /v2/notifications/sms\n")])])]),a("h3",{attrs:{id:"request-body-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-body-2"}},[t._v("#")]),t._v(" Request body")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"phone_number"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+19021234567"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"arguments-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arguments-2"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),a("p",[a("strong",[t._v("phone_number (required)")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("phone_number")]),t._v(" of the recipient of the text message.")]),t._v(" "),a("Content",{attrs:{"page-key":t.$site.pages.find((function(t){return"en/_arg_template_id.md"===t.relativePath})).key}}),t._v(" "),a("p",[a("strong",[t._v("personalisation (optional)")])]),t._v(" "),a("p",[t._v("Use "),a("code",[t._v("personalisation")]),t._v(" if a template has placeholder fields for personalised information such as name or reference number, you must provide their values in a dictionary with key value pairs. For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"personalisation"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Amala"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"application_date"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if a template does not have any placeholder fields for personalised information.")]),t._v(" "),a("p",[a("strong",[t._v("reference (optional)")])]),t._v(" "),a("p",[a("code",[t._v("reference")]),t._v(" is an identifier you can create if necessary. This reference identifies a single notification or a batch of notifications. It must not contain any personal information such as name or postal address. For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reference"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STRING"')]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if you do not have a reference.")]),t._v(" "),a("p",[a("strong",[t._v("sms_sender_id (optional)")])]),t._v(" "),a("p",[a("code",[t._v("sms_sender_id")]),t._v(" is a unique identifier of the sender of the text message notification.")]),t._v(" "),a("p",[t._v("To find the text message sender:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign in to  Notify"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Go to the "),a("strong",[t._v("Settings")]),t._v(" page.")]),t._v(" "),a("li",[t._v("In the "),a("strong",[t._v("Text Messages")]),t._v(" section, select "),a("strong",[t._v("Manage")]),t._v(" on the "),a("strong",[t._v("Text Message sender")]),t._v(" row.")])]),t._v(" "),a("p",[t._v("You can then either:")]),t._v(" "),a("ul",[a("li",[t._v("copy the sender ID that you want to use and paste it into the method")]),t._v(" "),a("li",[t._v("select "),a("strong",[t._v("Change")]),t._v(" to change the default sender that the service will use, and select "),a("strong",[t._v("Save")])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sms_sender_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8e222534-7f05-4972-86e3-17c5d9f894e2"')]),t._v("\n")])])]),a("p",[t._v("You can leave out this argument if your service only has one text message sender, or if you want to use the default sender.")]),t._v(" "),a("h3",{attrs:{id:"response-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-2"}},[t._v("#")]),t._v(" Response")]),t._v(" "),a("p",[t._v("If the request is successful, the response body is "),a("code",[t._v("json")]),t._v(" with a status code of "),a("code",[t._v("201")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"740e5834-3a29-46b4-9a6f-16142fde533a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reference"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STRING"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MESSAGE TEXT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from_number"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SENDER"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.notification.canada.ca/v2/notifications/740e5834-3a29-46b4-9a6f-16142fde533a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"uri"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.notification.canada.ca/v2/template/ceb50d92-100d-4b8b-b559-14fa3b091cd"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("If you are using the "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("test API key")]),t._v(", all your messages will come back with a "),a("code",[t._v("delivered")]),t._v(" status.")],1),t._v(" "),a("p",[t._v("All messages sent using the team and safelist or live keys will appear on your dashboard.")]),t._v(" "),a("h3",{attrs:{id:"error-codes-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-codes-2"}},[t._v("#")]),t._v(" Error codes")]),t._v(" "),a("p",[t._v("If the request is not successful, the response body is "),a("code",[t._v("json")]),t._v(", refer to the table below for details.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("status_code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("message")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("How to fix")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Can\'t send to this recipient using a team-only API key"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Use the correct type of "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("API key")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Can\'t send to this recipient when service is in trial mode"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Your service cannot send this notification in trial mode. You can request to go live in settings.")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("403")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "AuthError",')]),a("br"),a("code",[t._v('"message": "Error: Your system clock must be accurate to within 30 seconds"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check your system clock")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("403")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "AuthError",')]),a("br"),a("code",[t._v('"message": "Invalid token: API key not found"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Use the correct "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("API key")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("429")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "RateLimitError",')]),a("br"),a("code",[t._v('"message": "Exceeded rate limit for key type TEAM/TEST/LIVE of 1000 requests per 60 seconds"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Refer to "),a("RouterLink",{attrs:{to:"/en/limits.html"}},[t._v("API rate limits")]),t._v(" for more information")],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("429")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "TooManyRequestsError",')]),a("br"),a("code",[t._v('"message": "Exceeded send limits (LIMIT NUMBER) for today"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Refer to "),a("RouterLink",{attrs:{to:"/en/limits.html"}},[t._v("service limits")]),t._v(" for the limit number")],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("500")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "Exception",')]),a("br"),a("code",[t._v('"message": "Internal server error"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GC Notify was unable to process the request, resend your notification.")])])])]),t._v(" "),a("h2",{attrs:{id:"sending-notifications-in-bulk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-notifications-in-bulk"}},[t._v("#")]),t._v(" Sending notifications in bulk")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("POST /v2/notifications/bulk\n")])])]),a("p",[t._v("Send notifications in bulk, up to 50,000 recipients at a time, for a single template. You can schedule to send notifications up to 4 days in advance.")]),t._v(" "),a("h3",{attrs:{id:"request-body-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-body-3"}},[t._v("#")]),t._v(" Request body")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bulk send name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rows"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email address"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alice@example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Alice"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bob@example.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bob"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scheduled_for"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-06-08T15:15:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" # optional string\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reply_to_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f025b1a9-63af-43e8-b969-627bfe544bba"')]),t._v(" # optional string\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"arguments-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arguments-3"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),a("p",[a("strong",[t._v("name (required)")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("name")]),t._v(" of your bulk sending job. Used to identify this bulk of notifications later on.")]),t._v(" "),a("Content",{attrs:{"page-key":t.$site.pages.find((function(t){return"en/_arg_template_id.md"===t.relativePath})).key}}),t._v(" "),a("p",[a("strong",[t._v("rows (required)")])]),t._v(" "),a("p",[a("code",[t._v("rows")]),t._v(" is an array of arrays. The first line is the header and should include at least "),a("code",[t._v("email address")]),t._v(" if you're sending an email template or "),a("code",[t._v("phone number")]),t._v(" if you're sending a text message template. The other column headers should match the placeholder fields (personalised variables) of your template.")]),t._v(" "),a("p",[t._v("The following lines should be your recipients' details and should match the order of column headers. You can have between 1 and 50,000 recipients.")]),t._v(" "),a("h4",{attrs:{id:"optional-arguments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-arguments"}},[t._v("#")]),t._v(" Optional arguments")]),t._v(" "),a("p",[a("strong",[t._v("scheduled_for (optional)")])]),t._v(" "),a("p",[t._v("If you want to send notifications in the future, you can specify a datetime up to 4 days in the future, in "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/ISO_8601",target:"_blank",rel:"noopener noreferrer"}},[t._v("ISO 8601 format"),a("OutboundLink")],1),t._v(". For example: "),a("code",[t._v("2021-06-08T15:15:00")]),t._v(" (UTC time).")]),t._v(" "),a("p",[a("strong",[t._v("reply_to_id (optional)")])]),t._v(" "),a("p",[t._v("If you want to use a specific reply-to email address when sending emails, you can specify a reply-to email address ID.")]),t._v(" "),a("p",[t._v("To find your reply-to email address ID:")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://notification.canada.ca/sign-in",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sign in to GC Notify"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[t._v("Go to the "),a("strong",[t._v("Settings")]),t._v(" page.")]),t._v(" "),a("li",[t._v("In the "),a("strong",[t._v("Email")]),t._v(" section, select "),a("strong",[t._v("Reply-to email addresses")])]),t._v(" "),a("li",[t._v("Copy the ID of the reply-to email address you want to use")])]),t._v(" "),a("p",[t._v("By default, GC Notify will use your default reply-to email address if you don't specify one, or none if you didn't set up one.")]),t._v(" "),a("p",[a("strong",[t._v("csv (optional)")])]),t._v(" "),a("p",[t._v("If you prefer to pass the content of CSV files instead of rows in the "),a("code",[t._v("rows")]),t._v(" argument, you can do so. Pass the full content of your CSV file in a key named "),a("code",[t._v("csv")]),t._v(". Do not include the "),a("code",[t._v("rows")]),t._v(" argument.")]),t._v(" "),a("p",[t._v("For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bulk send name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"csv"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email address,name\\nalice@example.com,Alice"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"response-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-3"}},[t._v("#")]),t._v(" Response")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Response timeout")]),t._v(" "),a("p",[t._v("If you specify a response timeout when calling this endpoint, make sure it is set to 15 seconds. The GC Notify API could take a few seconds to validate your request and save the payload if you submit a large bulk sending job with many recipients.")])]),t._v(" "),a("p",[t._v("If the request is successful, the response body is "),a("code",[t._v("json")]),t._v(" with a status code of "),a("code",[t._v("201")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"api_key"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"de1fafa2-fb2a-49c5-9b9a-8400727ecd29"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key_type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"team"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"archived"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-06-10T17:14:15.341308+00:00"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"created_by"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6af522d0-2915-4e52-83a3-3690455a5fe6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Notify service user"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0ea216ae-4b03-46b7-ab44-893ae85104f5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"job_status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pending"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"notification_count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"original_file_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bulk send name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"processing_finished"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"processing_started"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scheduled_for"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sender_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f025b1a9-63af-43e8-b969-627bfe544bba"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"service"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"afa2be3b-1250-430f-a70f-28a1a9d49dfa"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"service_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test service"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f33517ff-2a88-4f6e-b855-c550268ce08a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"updated_at"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You can follow the progression of your bulk sending job from the GC Notify web interface.")]),t._v(" "),a("p",[t._v("If you scheduled your batch in the future, you can cancel it from the web interface.")]),t._v(" "),a("h3",{attrs:{id:"error-codes-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-codes-3"}},[t._v("#")]),t._v(" Error codes")]),t._v(" "),a("p",[t._v("If the request is not successful, the response body is "),a("code",[t._v("json")]),t._v(", refer to the table below for details.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("status_code")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("message")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("How to fix")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "You should specify either rows or csv"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Pass data through "),a("code",[t._v("rows")]),t._v(" or "),a("code",[t._v("csv")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "name is a required property"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Specify the "),a("code",[t._v("name")]),t._v(" property")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "scheduled_for 42 is not of type string, null"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check that you pass a valid ISO 8601 datetime")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "scheduled_for datetime cannot be in the past"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check that you pass a datetime in the future")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "scheduled_for datetime can only be up to 96 hours in the future"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check that you pass datetime at most 4 days in the future")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "ValidationError",')]),a("br"),a("code",[t._v('"message": "scheduled_for datetime format is invalid. It must be a valid ISO8601 date time format, https://en.wikipedia.org/wiki/ISO_8601"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Check that you pass a valid "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/ISO_8601",target:"_blank",rel:"noopener noreferrer"}},[t._v("ISO 8601 datetime"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Template not found"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Update template ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Template has been deleted"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Create a new template and update its ID")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Service is not allowed to send emails"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Turn on email sending in Settings")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Missing column headers: name"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Add the missing column header")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Duplicate column headers: name, NAME"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Remove the duplicate column headers")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Too many rows. Maximum number of rows allowed is 50000"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Pass less than 50,000 rows")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('{"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "You cannot send to these recipients because you used a team and safelist API key."')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Request to go live in Settings or use "),a("RouterLink",{attrs:{to:"/en/keys.html"}},[t._v("a live API key")])],1)]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "You cannot send to these recipients because your service is in trial mode. You can only send to members of your team and your safelist."')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Add more team members, update your safelist or request to go live")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "You only have 50 remaining messages before you reach your daily limit. You\'ve tried to send 75 messages."')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Remove rows in excess, try again tomorrow or request a limit increase")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("400")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "BadRequestError",')]),a("br"),a("code",[t._v('"message": "Some rows have errors. Row 1 - name: Missing. Row 2 - email address: invalid recipient. Row 3 - name: Missing. Row 4 - name: Missing."')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Make sure rows don't have missing values")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("500")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("[{")]),a("br"),a("code",[t._v('"error": "Exception",')]),a("br"),a("code",[t._v('"message": "Internal server error"')]),a("br"),a("code",[t._v("}]")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GC Notify was unable to process the request. Re-send your notification.")])])])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);